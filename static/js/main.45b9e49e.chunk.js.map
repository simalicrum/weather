{"version":3,"sources":["App.js","index.js"],"names":["App","state","locationinput","temp","city","weather","windspeed","visibility","img","handleInputChange","bind","setWeather","event","this","setState","target","value","fetch","mode","response","json","console","log","preventDefault","getWeather","result","cod","message","alert","document","getElementById","reset","getBackground","main","background","tempInC","Math","round","name","wind","speed","setAttribute","body","style","backgroundImage","urls","regular","id","onSubmit","htmlFor","type","onChange","className","Component","ReactDOM","render","StrictMode"],"mappings":"yQA+FeA,E,kDA5Fb,aAAe,IAAD,8BACZ,gBACKC,MAAQ,CACXC,cAAe,GACfC,KAAM,GACNC,KAAM,GACNC,QAAS,GACTC,UAAW,GACXC,WAAY,GACZC,IAAK,MAEP,EAAKC,kBAAoB,EAAKA,kBAAkBC,KAAvB,gBACzB,EAAKC,WAAa,EAAKA,WAAWD,KAAhB,gBAZN,E,8DAcIE,GAChBC,KAAKC,SAAS,CAAEZ,cAAeU,EAAMG,OAAOC,U,0EAE7BZ,G,gGAEUa,MAAM,qDAAD,OAC2Bb,EAD3B,2CAE1B,CAAEc,KAAM,S,cAFJC,E,gBAIOA,EAASC,O,wEAEtBC,QAAQC,IAAI,QAAZ,M,6LAGgBjB,G,gGAEOY,MAAM,uGAAD,OAC6EZ,GACvG,CAAEa,KAAM,S,cAFJC,E,gBAIOA,EAASC,O,wEAEtBC,QAAQC,IAAI,QAAZ,M,0LAGaV,G,kFACfA,EAAMW,iB,kBAEiBV,KAAKW,WAAWX,KAAKZ,MAAMC,e,UAC7B,SADbuB,E,QACKC,KAAoC,mBAAnBD,EAAOE,Q,iBACjCC,MAAM,kBACNC,SAASC,eAAe,iBAAiBC,Q,yCAEhBlB,KAAKmB,cAAcP,EAAOpB,QAAQ,GAAG4B,M,QAAxDC,E,OACAC,EAAUC,KAAKC,MAAMZ,EAAOQ,KAAK9B,KAAO,QAC9CU,KAAKC,SAAS,CACZX,KAAMgC,EACN/B,KAAMqB,EAAOa,KACbjC,QAASoB,EAAOpB,QAAQ,GAAG4B,KAC3B3B,UAAWmB,EAAOc,KAAKC,MACvBjC,WAAYkB,EAAOlB,WACnBC,IAAK0B,IAEPL,SAASC,eAAe,iBAAiBC,QACzCF,SACGC,eAAe,mBACfW,aAAa,QAAS,SACzBZ,SAASa,KAAKC,MAAMC,gBAApB,eAA8C/B,KAAKZ,MAAMO,IAAIqC,KAAKC,QAAlE,K,0DAGFzB,QAAQC,IAAI,QAAZ,M,gJAIF,OACE,yBAAKyB,GAAG,gBACN,4CACA,0BAAMA,GAAG,gBAAgBC,SAAUnC,KAAKF,YACtC,2BAAOsC,QAAQ,YAAf,cACA,2BACEC,KAAK,OACLH,GAAG,WACHT,KAAK,WACLa,SAAUtC,KAAKJ,oBAEjB,2BAAOyC,KAAK,YAEd,yBAAKH,GAAG,kBAAkBK,UAAU,UAClC,sDAA4BvC,KAAKZ,MAAMG,KAAvC,KACA,4BAAKS,KAAKZ,MAAMI,SAChB,4CAAkBQ,KAAKZ,MAAME,KAA7B,UACA,2CAAiBU,KAAKZ,MAAMK,UAA5B,c,GAtFQ+C,aCGlBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEF3B,SAASC,eAAe,W","file":"static/js/main.45b9e49e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      locationinput: \"\",\n      temp: \"\",\n      city: \"\",\n      weather: \"\",\n      windspeed: \"\",\n      visibility: \"\",\n      img: null,\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.setWeather = this.setWeather.bind(this);\n  }\n  handleInputChange(event) {\n    this.setState({ locationinput: event.target.value });\n  }\n  async getWeather(city) {\n    try {\n      const response = await fetch(\n        `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=3fbef125c81848d523698fd4bd8c186d`,\n        { mode: \"cors\" }\n      );\n      return await response.json();\n    } catch (error) {\n      console.log(\"Oops!\", error);\n    }\n  }\n  async getBackground(weather) {\n    try {\n      const response = await fetch(\n        `https://api.unsplash.com/photos/random/?client_id=cxPTNiUBObF35f898L8R9lA27z9qQ08bHXbzE4V-lus&query=${weather}`,\n        { mode: \"cors\" }\n      );\n      return await response.json();\n    } catch (error) {\n      console.log(\"Oops!\", error);\n    }\n  }\n  async setWeather(event) {\n    event.preventDefault();\n    try {\n      const result = await this.getWeather(this.state.locationinput);\n      if (result.cod === \"404\" && result.message === \"city not found\") {\n        alert(\"City not Found\");\n        document.getElementById(\"location-form\").reset();\n      } else {\n        const background = await this.getBackground(result.weather[0].main);\n        const tempInC = Math.round(result.main.temp - 273.15);\n        this.setState({\n          temp: tempInC,\n          city: result.name,\n          weather: result.weather[0].main,\n          windspeed: result.wind.speed,\n          visibility: result.visibility,\n          img: background,\n        });\n        document.getElementById(\"location-form\").reset();\n        document\n          .getElementById(\"weather-results\")\n          .setAttribute(\"class\", \"shown\");\n        document.body.style.backgroundImage = `url('${this.state.img.urls.regular}'`;\n      }\n    } catch (error) {\n      console.log(\"Oops!\", error);\n    }\n  }\n  render() {\n    return (\n      <div id=\"weather-card\">\n        <h1>Weatherthing</h1>\n        <form id=\"location-form\" onSubmit={this.setWeather}>\n          <label htmlFor=\"location\">Location: </label>\n          <input\n            type=\"text\"\n            id=\"location\"\n            name=\"location\"\n            onChange={this.handleInputChange}\n          />\n          <input type=\"submit\" />\n        </form>\n        <div id=\"weather-results\" className=\"hidden\">\n          <h2>Current conditions for {this.state.city}:</h2>\n          <h2>{this.state.weather}</h2>\n          <h3>Temperature: {this.state.temp}&#8451;</h3>\n          <h3>Wind Speed: {this.state.windspeed} kph</h3>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}